#!/bin/bash

cd

if [[ -d /etc/X11/xinit/xinitrc.d ]]; then
  for f in /etc/X11/xinit/xinitrc.d/*; do
    [[ -x "$f" ]] && . "$f"
  done
  unset f
fi

case $2 in
  xbmc)
    exec xbmc-standalone ;;
  gnome)
    exec ck-launch-session dbus-launch --exit-with-session gnome-session ;;
  *)
    xrdb -merge ~/.Xresources &
    nitrogen --restore &
    exec ck-launch-session "${2-xmonad}" ;;
esac
